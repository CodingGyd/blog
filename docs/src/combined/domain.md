---
# icon: lock
date: 2023-01-03
category:
  - 网站建设
---

# 域名备案流程

## 一、前言
一般某个网站程序部署到云服务器上后,我们就可以直接通过”服务器主机IP:应用端口”的方式来访问该网站服务了，但这种方式非常不友好。对于广大用户而言，没几个人会记得住那一串IP数字地址。因此我们需要提供一个友好的名称来作为服务器主机IP的别名，让用户在浏览器输入别名就可以访问到网站服务，这个别名就可以理解为域名(域名具体介绍请自行百度)。下面简单记录下本博客网站从申请域名->备案->做IP解析、端口转发的过程。
## 二、申请域名以及实名认证
我是在百度云的域名服务注册中心进行域名申请注册的。域名具体申请过程就不说了，进入百度云域名服务注册中心自己看。本人在申请域名的时候想了很多个，但是发现都被注册掉了，无奈，，最后选了个二般的域名进行注册。注册完后在百度云平台上完成实名认证操作。

## 三、工信部备案
以前域名备案要去当地的管局进行，现在可以直接在比如百度云、阿里云上进行，还是很方便的。我的域名是在百度云上完成备案流程的，备案地址戳百度云备案系统，备案流程也不是很复杂，按备案系统操作步骤慢慢来即可完成。<br/>
工信部备案这里耗时最长，我的网站大概半个月才备案完成。

## 四、域名解析、端口转发
域名解析我也是直接在百度云域名服务控制台上完成的，几分钟就好了。需要填写主机记录、记录类型、解析线路、记录值、TTL这几个选项，具体含义请自行百度。这里需要注意“记录值”就是服务器主机的IP地址，不能填写具体的端口号。默认在浏览器通过域名访问时会解析到域名对应的IP地址的80端口上。如果需要域名访问服务器上非80端口，可以通过域名:端口号的方式来完成，或者通过80端口转发来达到目的。一般我们都选择第二种方式，域名访问时无需额外填写端口信息即可访问到网站，这种方式更加友好。<br/>
我是通过用nginx来监听域名指向的默认80端口并转发到网站程序运行的xxxx端口来完成域名访问网站的。至于nginx如何设置端口转发，非常简单，改下配置文件重启nginx即可!具体操作步骤自行百度教程。

**<font color='red'>这里重点记录下遇到的问题：</font>**  
一开始我在只配置了以下两条解析规则
 <img src="http://cdn.gydblog.com/images/combined/domain-1.png"  style="zoom: 50%;margin:0 auto;display:block"/><br/>

也就是说浏览器输入"www.gydblog.com" 和"xx.gydblog.com"是都可以被dns服务器解析到并提供访问的，但是如果我直接输入主域名"gydblog.com"就无法访问了。 因此根据官方说明，还需要增加一个匹配主域名的解析规则：
 <img src="http://cdn.gydblog.com/images/combined/domain-2.png"  style="zoom: 50%;margin:0 auto;display:block"/><br/>

只需要*、www、@ 这三条规则就可以覆盖所有访问方式了！

## 五、通过域名进行网站访问
完成前面三个步骤，就可以打开浏览器通过域名来访问我们自己写的网站了。
