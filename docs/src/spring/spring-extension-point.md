---
title: Springç³»åˆ—ç¬”è®°-Springçš„å†…ç½®å¸¸ç”¨æ‰©å±•ç‚¹
shortTitle: Springçš„å†…ç½®å¸¸ç”¨æ‰©å±•ç‚¹
date: 2023-08-15
category:
  - å¼€æºæ¡†æ¶
tag:
  - Spring
head:
  - - meta
    - name: keywords
      content: JAVAä¼ä¸šçº§å¼€å‘,Springç¬”è®°,Spring5,Springæ€»ç»“,Springæ ¸å¿ƒçŸ¥è¯†
---

# Springçš„å†…ç½®å¸¸ç”¨æ‰©å±•ç‚¹
:::tip å†™åœ¨å‰é¢
å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ä»£ç å°éƒ­ï¼Œåˆæ¥å’Œå¤§å®¶åˆ†äº«çŸ¥è¯†å•¦ï¼

å°éƒ­å†™æ–‡ç« çš„ç›®çš„å°±æ˜¯ä¸ºäº†ä¿ƒè¿›è‡ªå·±æŠ€æœ¯çš„æˆé•¿ï¼ŒåŒæ—¶åˆ†äº«ç»™å¤§å®¶ä¸€èµ·å­¦ä¹ äº¤æµï¼Œå¦‚æœæ‚¨å¯¹ Javaé¢†åŸŸæ„Ÿå…´è¶£ï¼Œå¯ä»¥å…³æ³¨æˆ‘ï¼Œæˆ‘ä»¬ä¸€èµ·å­¦ä¹ ã€‚
:::

## å¼€å¿ƒä¸€åˆ»  
  
å°æ˜ï¼šâ€œå¦ˆï¼Œæˆ‘è¢«å…¬å¸å¼€é™¤äº†â€

å¦ˆï¼šâ€œå•Šï¼Œä¸ºä»€ä¹ˆå‘€ï¼Ÿâ€ï¼Œ

å°æ˜ï¼šâ€œæˆ‘éª‚è‘£äº‹é•¿æ˜¯ç¬¨è›‹ï¼Œå…¬å¸å¬å¼€é«˜å±‚ä¼šè®®è¿˜è¦èµ·è¯‰æˆ‘â€

å¦ˆï¼šâ€œå‘Šä½ è¯½è°¤æ˜¯å§ï¼Ÿâ€

å°æ˜ï¼šâ€œä¸æ˜¯ï¼Œä»–ä»¬è¯´è¦å‘Šæˆ‘æ³„éœ²å…¬å¸æœºå¯†â€
![](http://cdn.gydblog.com/images/sucai/sc-6.gif)


ä»Šå¤©å°éƒ­æ‘¸é±¼å­¦ä¹ äº†Springçš„æ‰©å±•ç‚¹çš„ç›¸å…³æ¦‚å¿µå’Œåº”ç”¨åœºæ™¯ï¼Œç»™å¤§å®¶æ±‡æŠ¥ä¸€ä¸‹æˆ‘çš„å­¦ä¹ ç¬”è®°ï¼Œå¤§å®¶å¾€ä¸‹çœ‹ğŸ‘‡ğŸ‘‡ğŸ‘‡

## ä¸€ã€å‰è¨€
ä¼—æ‰€å‘¨çŸ¥ï¼ŒSpringæ˜¯ä¸€ä¸ªéå¸¸ä¼˜ç§€çš„å¼€æºæ¡†æ¶ï¼Œç›®å‰åœ¨JAVAä¼ä¸šåº”ç”¨é¢†åŸŸåŸºæœ¬ä¸Šå¯ä»¥è¯´æ˜¯ç»å¯¹çš„éœ¸ä¸»ï¼Œæ— äººä¸çŸ¥ã€‚è¿™å¾—ç›Šäºå®ƒæœ¬èº«å·§å¦™çš„è®¾è®¡ç†å¿µï¼šå¯¹ä¿®æ”¹å°é—­ï¼Œå¯¹æ‰©å±•å¼€æ”¾ï¼Œè¿™ä¹Ÿæ˜¯è®¾è®¡æ¨¡å¼ä¸­çš„å¼€é—­åŸåˆ™ã€‚  

æ­£å› ä¸ºè¿™ä¸ªè®¾è®¡ç†å¿µè®©Springèƒ½å¤Ÿå¿«é€Ÿæ”¯æŒæ•´åˆå…¶å®ƒçš„ä¸­é—´ä»¶æŠ€æœ¯ï¼ŒSpringåŸºäºæ­¤èƒ½åŠ›ä»ä¸€å¼€å§‹çš„æ¡†æ¶æ¼”å˜æˆäº†å¦‚ä»Šçš„Springç”Ÿæ€ã€‚ 

å°éƒ­å°†ä»Šå¤©å­¦ä¹ åˆ°çš„Springå¸¸ç”¨æ‰©å±•ç‚¹æŠ€æœ¯æ•´ç†æˆäº†ç¬”è®°ï¼Œåˆ†äº«ç»™å¤§å®¶ã€‚æˆ‘ä»¬åœ¨æ—¥å¸¸å·¥ä½œä¸­å¦‚æœèƒ½çµæ´»çš„è¿ç”¨è¿™äº›æ‰©å±•ç‚¹ï¼Œå°†ä¼šäº‹åŠåŠŸå€å“¦ï¼

## äºŒã€æ‰©å±•ç‚¹æ¦‚è§ˆ
![Springçš„å¸¸è§æ‰©å±•ç‚¹](http://cdn.gydblog.com/images/spring/spring-extension-point-1.png)

## ä¸‰ã€Beanç›¸å…³æ‰©å±•ç‚¹
### 1ã€ç”Ÿå‘½å‘¨æœŸå›è°ƒ
1ï¼‰åˆå§‹åŒ–å›è°ƒInitializingBean/@PostConstruct
InitializingBeanæ¥å£ä¸ºbeanæä¾›äº†å±æ€§åˆå§‹åŒ–åçš„å¤„ç†æ–¹æ³•ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªafterPropertiesSetæ–¹æ³•ï¼Œå‡¡æ˜¯ç»§æ‰¿è¯¥æ¥å£çš„ç±»ï¼Œåœ¨beançš„å±æ€§åˆå§‹åŒ–åéƒ½ä¼šæ‰§è¡Œè¯¥æ–¹æ³•ã€‚  

@PostConstructæ˜¯Springæä¾›çš„æ³¨è§£æ–¹å¼ï¼ŒåŠŸèƒ½å’ŒInitializingBeanä¸€æ ·ï¼Œå®˜æ–¹å»ºè®®ä½¿ç”¨æ³¨è§£æ–¹å¼ã€‚  

ä½¿ç”¨ç¤ºä¾‹ï¼š
```java
@Component
public class MyBean implements InitializingBean {
    @Override
    public void afterPropertiesSet() throws Exception {
        System.out.println("å¯åŠ¨æ—¶åŠ è½½äº†æˆ‘afterPropertiesSet...");
    }

    @PostConstruct
    public void init() {
        System.out.println("å¯åŠ¨æ—¶åŠ è½½äº†æˆ‘@PostConstruct...");
    }
}
```
ç¨‹åºå¯åŠ¨æ—¶è¾“å‡ºæ—¥å¿—å¦‚ä¸‹ï¼š  

![æ§åˆ¶å°æ—¥å¿—](http://cdn.gydblog.com/images/spring/spring-extension-point-2.png)

ä»è¾“å‡ºç»“æœå¯ä»¥çœ‹å‡º@PostConstructä¼šå…ˆäºInitializingBeanæ‰§è¡Œã€‚  

2ï¼‰é”€æ¯å›è°ƒDisposableBean/@PreDestroy  
DisposableBean æ¥å£å¯ä»¥è®©Beanåœ¨åŒ…å«å®ƒçš„å®¹å™¨è¢«é”€æ¯æ—¶(Springå®ä¾‹åœæ­¢è¿è¡Œæ—¶)è·å¾—ä¸€ä¸ªå›è°ƒã€‚DisposableBean æ¥å£æä¾›äº†ä¸€ä¸ªæ–¹æ³•destroyï¼Œå‡¡æ˜¯ç»§æ‰¿è¯¥æ¥å£çš„ç±»ï¼Œåœ¨Springå®ä¾‹åœæ­¢æ—¶ä¼šæ‰§è¡Œè¯¥æ–¹æ³•ã€‚  

@PreDestroy æ˜¯Springæä¾›çš„æ³¨è§£æ–¹å¼ï¼ŒåŠŸèƒ½å’ŒDisposableBean ä¸€æ ·ï¼Œå®˜æ–¹å»ºè®®ä½¿ç”¨æ³¨è§£æ–¹å¼ã€‚

ä½¿ç”¨ç¤ºä¾‹ï¼š
```java
@Component
public class MyBean implements DisposableBean {
    @PreDestroy
    public void init() {
        System.out.println("é”€æ¯å‰åŠ è½½äº†æˆ‘@PostConstruct...");
    }

    @Override
    public void destroy() throws Exception {
        System.out.println("é”€æ¯å‰åŠ è½½äº†æˆ‘destroy...");
    }
}
```

ç¨‹åºå¯åŠ¨è¾“å‡ºæ—¥å¿—å¦‚ä¸‹ï¼š  

![æ§åˆ¶å°æ—¥å¿—](http://cdn.gydblog.com/images/spring/spring-extension-point-3.png)

ä»è¾“å‡ºç»“æœå¯ä»¥çœ‹å‡º@PreDestroyä¼šå…ˆäºDisposableBeanæ‰§è¡Œã€‚  

3ï¼‰å¯åŠ¨å’Œå…³é—­çš„å›è°ƒLifecycle  


Lifecycle æ¥å£å®šä¹‰äº†ä»»ä½•æœ‰è‡ªå·±çš„ç”Ÿå‘½å‘¨æœŸè¦æ±‚çš„å¯¹è±¡çš„åŸºæœ¬æ–¹æ³•ï¼ˆå¦‚å¯åŠ¨å’Œåœæ­¢ä¸€äº›åå°è¿›ç¨‹ï¼‰ã€‚å½“ ApplicationContext æœ¬èº«æ”¶åˆ°å¯åŠ¨å’Œåœæ­¢ä¿¡å·æ—¶ï¼Œä¼šå›è°ƒå®ç°äº†è¯¥æ¥å£çš„ç±»çš„startå’Œstopæ–¹æ³•

ä½¿ç”¨ç¤ºä¾‹ï¼š  
```java
public class MyLifeCycle implements Lifecycle {
  private volatile boolean running = false;

  @Override
  public void start() {
      running = true;
      System.out.println("æˆ‘æ˜¯Lifecycle.start");
  }

  @Override
  public void stop() {
      running = false;
      System.out.println("æˆ‘æ˜¯Lifecycle.stop");
  }

  @Override
  public boolean isRunning() {
      System.out.println("æˆ‘æ˜¯Lifecycle.isRunning");
      return running;
  }
}
```

```java
public class Main {
  public static void main(String[] args) {
      ConfigurableApplicationContext context = new ClassPathXmlApplicationContext("beans.xml");
      //ä½¿ç”¨ Lifecycleè¿™ç§æ–¹å¼ï¼Œéœ€è¦æ˜¾ç¤ºçš„è°ƒç”¨å®¹å™¨çš„ startã€stopæ–¹æ³•
      context.start();
      context.stop();
  }
}
```

ç¨‹åºå¯åŠ¨åè¾“å‡ºæ—¥å¿—å¦‚ä¸‹:  
![æ§åˆ¶å°æ—¥å¿—](http://cdn.gydblog.com/images/spring/spring-extension-point-4.png)

ä½†æ˜¯Lifecycleçš„è§¦å‘éœ€è¦æˆ‘ä»¬æ˜¾ç¤ºå»è°ƒç”¨å®¹å™¨å®ä¾‹çš„startå’Œstopæ–¹æ³•ï¼Œè¿™ä¸ªåœ¨å®˜æ–¹æ–‡æ¡£ä¸­æ˜¯æœ‰è¯´æ˜çš„ï¼š
```
è¯·æ³¨æ„ï¼Œå¸¸è§„çš„ org.springframework.context.Lifecycle æ¥å£æ˜¯ä¸€ä¸ªæ˜ç¡®çš„startå’Œstopé€šçŸ¥çš„æ™®é€šçº¦å®šï¼Œå¹¶ä¸æ„å‘³ç€åœ¨ä¸Šä¸‹æ–‡åˆ·æ–°æ—¶è‡ªåŠ¨å¯åŠ¨ã€‚å¦‚æœè¦å¯¹ç‰¹å®šBeançš„è‡ªåŠ¨å¯åŠ¨è¿›è¡Œç»†ç²’åº¦æ§åˆ¶ï¼ˆåŒ…æ‹¬å¯åŠ¨é˜¶æ®µï¼‰ï¼Œå¯ä»¥è€ƒè™‘å®ç° org.springframework.context.SmartLifecycle æ¥ä»£æ›¿ã€‚
```

springæä¾›äº†å¦å¤–ä¸€ç§æ–¹å¼SmartLifecycleï¼Œæ”¯æŒè‡ªåŠ¨æ‰§è¡Œã€‚é™¤äº†ç»§æ‰¿Lifecycleä¹‹å¤–ï¼Œå®ƒè¿˜ç»§æ‰¿äº† Phasedã€‚å¹¶ä¸”æ–°å¢äº†å‡ ä¸ªæ–¹æ³•ï¼š
- getPhaseï¼šæ¥è‡ªäº Phased æ¥å£ï¼Œå½“å®¹å™¨ä¸­æœ‰å¤šä¸ªå®ç°äº† SmartLifecycleçš„ç±»ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥ä¾æ® getPhaseæ–¹æ³•è¿”å›å€¼æ¥å†³å®šstart æ–¹æ³•ã€ stopæ–¹æ³•çš„æ‰§è¡Œé¡ºåºã€‚ start æ–¹æ³•æ‰§è¡Œé¡ºåºæŒ‰ç…§ getPhaseæ–¹æ³•è¿”å›å€¼ä»å°åˆ°å¤§æ‰§è¡Œï¼Œè€Œ stopæ–¹æ³•åˆ™ç›¸åã€‚æ¯”å¦‚ï¼š å¯åŠ¨æ—¶ï¼š1 æ¯” 3 å…ˆæ‰§è¡Œï¼Œ-1 æ¯” 1 å…ˆæ‰§è¡Œï¼Œé€€å‡ºæ—¶ï¼š3 æ¯” 1 å…ˆé€€å‡ºï¼Œ1 æ¯” -1 å…ˆé€€å‡ºã€‚
- isAutoStartupï¼šæ˜¯å¦è‡ªåŠ¨å¯åŠ¨ã€‚ä¸º trueï¼Œåˆ™è‡ªåŠ¨è°ƒç”¨start()ï¼›ä¸º falseï¼Œåˆ™éœ€è¦æ˜¾ç¤ºè°ƒç”¨ start()ã€‚
- stopï¼šå½“ isRunning æ–¹æ³•è¿”å› true æ—¶ï¼Œè¯¥æ–¹æ³•æ‰ä¼šè¢«è°ƒç”¨ã€‚
 
ä½¿ç”¨ç¤ºä¾‹ï¼š
```java
@Component
public class CustomizeSmartLifecycle implements SmartLifecycle {
  @Override
  public void start() {
      System.out.println("SmartLifecycle.start");
  }

  @Override
  public void stop() {
      System.out.println("SmartLifecycle.stop");
  }

  @Override
  public boolean isRunning() {
      System.out.println("SmartLifecycle.isRunning");
      return false;
  }

  @Override
  public boolean isAutoStartup() {
      System.out.println("SmartLifecycle.isAutoStartup");
      return SmartLifecycle.super.isAutoStartup();
  }

  @Override
  public void stop(Runnable callback) {
      System.out.println("SmartLifecycle.stop(callback)");
      SmartLifecycle.super.stop(callback);
  }

  @Override
  public int getPhase() {
      System.out.println("SmartLifecycle.getPhase");
      return SmartLifecycle.super.getPhase();
  }
}
```

```java
public class Main {
  public static void main(String[] args) {
      ConfigurableApplicationContext context = new ClassPathXmlApplicationContext("beans.xml");
      //è¿™é‡Œä¸éœ€è¦æ˜¾ç¤ºè°ƒç”¨å®¹å™¨çš„å¼€å§‹å’Œå…³é—­æ–¹æ³•äº†
      //context.start();
      //context.stop();
  }
}
```

ç¨‹åºå¯åŠ¨è¾“å‡ºæ—¥å¿—å¦‚ä¸‹ï¼š  
![æ§åˆ¶å°æ—¥å¿—](http://cdn.gydblog.com/images/spring/spring-extension-point-5.png)

ä»ä¸Šé¢çš„æ—¥å¿—å‘ç°å¥½åƒæ²¡æœ‰æ‰§è¡ŒLifecycleçš„stopæ–¹æ³•å‘€ï¼Ÿ å’¦ï¼Ÿæ€ä¹ˆè‚¥å››ï¼Ÿ
ç»è¿‡æŸ¥æ‰¾å‰äººèµ„æ–™ï¼Œå¾—åˆ°äº†ç­”æ¡ˆï¼šè¿™æ˜¯å› ä¸ºå®¹å™¨ç±»å‹é—®é¢˜ã€‚å¦‚æœåœ¨Spring Booté¡¹ç›®ä¼šè‡ªåŠ¨æ‰§è¡Œçš„ã€‚


Lifecycleæˆ–SmartLifecycle çš„è¿ç”¨åœºæ™¯è¿˜æ˜¯æ¯”è¾ƒå¤šçš„ã€‚

SmartLifecycleä¸ä»…ä»…èƒ½åœ¨å®¹å™¨åˆå§‹åŒ–åæ‰§è¡Œä¸€ä¸ªé€»è¾‘ï¼Œè¿˜èƒ½åœ¨å®ƒå…³é—­å‰æ‰§è¡Œä¸€ä¸ªé€»è¾‘ï¼Œ

æ¯”å¦‚ä¸€ä¸ªæœåŠ¡åœ¨å®¹å™¨å¯åŠ¨æ—¶å‘æœåŠ¡æ³¨å†Œä¸­å¿ƒå‘ä¸€ä¸ªä¿¡å·å‘Šè¯‰å®ƒæœåŠ¡ä¸Šçº¿äº†ï¼Œä¸‹çº¿å‰é€šçŸ¥å®ƒæˆ‘ä¸‹çº¿äº†ã€‚ä¹Ÿå°±æ˜¯å®ç°äº†ä¸€ä¸ª ä»ç”Ÿåˆ°æ­» çš„é—­ç¯é€šçŸ¥ã€‚

å†æ¯”å¦‚æˆ‘ä»¬æƒ³åœ¨å®¹å™¨æœ¬èº«çš„ç”Ÿå‘½å‘¨æœŸï¼ˆæ¯”å¦‚å®¹å™¨å¯åŠ¨ã€åœæ­¢ï¼‰çš„äº‹ä»¶ä¸Šåšä¸€äº›å·¥ä½œç­‰ éƒ½èƒ½ç”¨åˆ°ä¸Šé¢çš„æœºåˆ¶å•¦ï¼


4ï¼‰ ä¼˜é›…å…³é—­ç¨‹åºçš„é’©å­

æˆ‘ä»¬çš„javaç¨‹åºè¿è¡Œåœ¨JVMä¸Šï¼Œæœ‰å¾ˆå¤šæƒ…å†µå¯èƒ½ä¼šçªç„¶å´©æºƒæ‰ï¼Œæ¯”å¦‚OOMã€ç”¨æˆ·å¼ºåˆ¶é€€å‡ºã€ä¸šåŠ¡å…¶ä»–æŠ¥é”™ç­‰ä¸€ç³»åˆ—çš„é—®é¢˜å¯èƒ½å¯¼è‡´æˆ‘ä»¬çš„è¿›ç¨‹æŒ‚æ‰ã€‚å¦‚æœæˆ‘ä»¬çš„è¿›ç¨‹åœ¨è¿è¡Œä¸€äº›å¾ˆé‡è¦çš„å†…å®¹ï¼Œæ¯”å¦‚äº‹åŠ¡æ“ä½œä¹‹ç±»çš„ï¼Œå¾ˆæœ‰å¯èƒ½å¯¼è‡´äº‹åŠ¡çš„ä¸ä¸€è‡´æ€§é—®é¢˜ã€‚æ‰€ä»¥ï¼Œå®ç°åº”ç”¨çš„ä¼˜é›…å…³é—­è¿˜æ˜¯è›®é‡è¦çš„ï¼Œèµ·ç æˆ‘ä»¬å¯ä»¥åœ¨å…³é—­ä¹‹å‰åšä¸€äº›è®°å½•è¡¥æ•‘æ“ä½œã€‚

å¦‚æœæˆ‘ä»¬æ­£åœ¨ä¸€ä¸ªéwebåº”ç”¨çš„ç¯å¢ƒä¸‹ä½¿ç”¨Springçš„IoCå®¹å™¨ï¼Œå¦‚dubboæœåŠ¡ï¼Œæƒ³è®©å®¹å™¨ä¼˜é›…çš„å…³é—­ï¼Œå¹¶è°ƒç”¨scopreä¸ºsingletonçš„beanç›¸åº”destoryå›è°ƒæ–¹æ³•ï¼Œ
åªéœ€è¦åœ¨JVMé‡Œæ³¨å†Œä¸€ä¸ªâ€œå…³é—­é’©å­â€ï¼ˆshutdown hookï¼‰å³å¯ï¼Œ è¿™ä¸ªé’©å­å°±æ˜¯ConfigurableApplicationContext.registerShutdownHookã€‚  

ä½¿ç”¨ç¤ºä¾‹ï¼š
```java
// é€šè¿‡è¿™ç§æ–¹å¼æ¥æ·»åŠ é’©å­å‡½æ•°
ConfigurableApplicationContext context = new ClassPathXmlApplicationContext("beans.xml");
context.registerShutdownHook();
```


### 2ã€è·å–å®¹å™¨åŸºç¡€è®¾æ–½ä¿¡æ¯
æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦è·å–å®¹å™¨æœ¬èº«çš„ä¸€äº›ä¿¡æ¯æˆ–è€…å®¹å™¨å†…å…¶å®ƒbeançš„ä¸€äº›ä¿¡æ¯ï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡æœ¬èŠ‚çš„æ–¹å¼æ¥å¤„ç†ã€‚ 

1ï¼‰ApplicationContextAware

ApplicationContextAwareæ¥å£çš„ç»§æ‰¿è€…ä¼šè¢«æä¾› ApplicationContext çš„å¼•ç”¨ï¼Œæ¥å£å®šä¹‰å¦‚ä¸‹ï¼š
```java
public interface ApplicationContextAware {
  void setApplicationContext(ApplicationContext applicationContext) throws BeansException;
}
```

æˆ‘ä»¬çš„Beanå¯ä»¥é€šè¿‡ ApplicationContextAwareæä¾›çš„ApplicationContext æ¥å£æˆ–é€šè¿‡å°†å¼•ç”¨è½¬æ¢ä¸ºè¯¥æ¥å£çš„å·²çŸ¥å­ç±»ï¼ˆå¦‚ ConfigurableApplicationContextï¼‰ï¼Œä»¥ç¼–ç¨‹æ–¹å¼è·å–å®¹å™¨çš„å…¶å®ƒä¿¡æ¯ã€‚æˆ–è€…å¯¹å®¹å™¨ä¸­çš„å…¶ä»–Beanè¿›è¡Œç¼–ç¨‹å¼æ“ä½œ(ä½†Springå®˜æ–¹ä¸å»ºè®®è¿™æ ·åšï¼Œå› ä¸ºå®ƒå°†ä»£ç ä¸Springå®¹å™¨è€¦åˆåœ¨ä¸€èµ·ï¼Œå¹¶ä¸”ä¸éµå¾ªæ§åˆ¶åè½¬)ã€‚


ä½¿ç”¨ç¤ºä¾‹ï¼š
```java
public class MyBean implements ApplicationContextAware {

  private ApplicationContext applicationContext;
  @Override
  public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {
      System.out.println("æ‰§è¡Œäº†setApplicationContextã€‚ã€‚ã€‚");
      this.applicationContext = applicationContext;
  }

  public void printOther() {
      //è·å–å®¹å™¨çš„ä¸€äº›åŸºæœ¬ä¿¡æ¯
      System.out.println("getApplicationName:"+applicationContext.getApplicationName());
      System.out.println("getDisplayName:"+applicationContext.getDisplayName());
      System.out.println("getStartupDate:"+applicationContext.getStartupDate());
  }
}
```

```java
public class Main {
  public static void main(String[] args) {
      ConfigurableApplicationContext context = new ClassPathXmlApplicationContext("beans.xml");
      MyBean myBean = context.getBean("myBean",MyBean.class);
      myBean.printOther();
  }
}
```

ç¨‹åºæ‰§è¡Œè¾“å‡ºæ—¥å¿—å¦‚ä¸‹ï¼š  

![æ§åˆ¶å°æ—¥å¿—](http://cdn.gydblog.com/images/spring/spring-extension-point-6.png)


2ï¼‰BeanNameAware
BeanNameAwareæ¥å£çš„å®ç°ç±»è¢«æä¾›äº†ç›¸å…³beanå®šä¹‰çš„åç§°çš„å¼•ç”¨ï¼Œ BeanNameAware æ¥å£çš„å®šä¹‰ï¼š
```java
public interface BeanNameAware {
  void setBeanName(String name) throws BeansException;
}
```

ä½¿ç”¨ç¤ºä¾‹ï¼š  
```java
public class MyBean implements BeanNameAware {
  @Override
  public void setBeanName(String s) {
      System.out.println("beanName="+s);
  }
}
```

```java
public class Main {
  public static void main(String[] args) {
      ConfigurableApplicationContext context = new ClassPathXmlApplicationContext("beans.xml");
      MyBean myBean = context.getBean("myBean",MyBean.class);
  }
}
```

ç¨‹åºæ‰§è¡Œè¾“å‡ºæ—¥å¿—ï¼š  

![æ§åˆ¶å°æ—¥å¿—](http://cdn.gydblog.com/images/spring/spring-extension-point-7.png)

BeanNameAwareçš„å…¸å‹ç”¨ä¾‹å¯èƒ½æ˜¯è·å–beanåç§°ä»¥è¿›è¡Œæ—¥å¿—è®°å½•æˆ–åŸ‹ç‚¹ï¼Œå¯¹äºBeanFactoryAwareï¼Œå®ƒå¯ä»¥ä½¿ç”¨æ‰©å±•ä»£ç ä¸­çš„spring beanã€‚ 


springè¿˜æä¾›äº†è®¸å¤šå…¶å®ƒçš„Awareæ¥å£ä¾›å›è°ƒä½¿ç”¨ï¼Œä¸‹å›¾æ€»ç»“äº†æœ€é‡è¦çš„Awareæ¥å£æ¸…å•ï¼š  

![æœ€é‡è¦çš„Awareæ¥å£æ€»è§ˆ](http://cdn.gydblog.com/images/spring/spring-extension-point-8.png)

> åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åº”è¯¥é¿å…ä½¿ç”¨ä»»ä½•Awareæ¥å£ï¼Œé™¤éæˆ‘ä»¬éœ€è¦å®ƒä»¬ï¼Œå®ç°è¿™äº›æ¥å£ä¼šå°†ä»£ç è€¦åˆåˆ°Springæ¡†æ¶ã€‚

## å››ã€å®¹å™¨ç›¸å…³æ‰©å±•ç‚¹

### 1ã€BeanPostProcessor

BeanPostProcessorä¹Ÿç§°ä¸ºBeanåç½®å¤„ç†å™¨ï¼Œå®ƒæ˜¯Springä¸­å®šä¹‰çš„æ¥å£ï¼Œåœ¨Springå®¹å™¨çš„åˆ›å»ºè¿‡ç¨‹ä¸­ï¼ˆå…·ä½“ä¸ºBeanåˆå§‹åŒ–å‰åï¼‰ä¼šå›è°ƒBeanPostProcessorä¸­å®šä¹‰çš„ä¸¤ä¸ªæ–¹æ³•ã€‚Springæ”¯æŒæˆ‘ä»¬é…ç½®å¤šä¸ª BeanPostProcessor å®ä¾‹ï¼Œå¯ä»¥é€šè¿‡è®¾ç½® order å±æ€§æ§åˆ¶è¿™äº› BeanPostProcessor å®ä¾‹çš„è¿è¡Œé¡ºåºã€‚

BeanPostProcessorçš„å®šä¹‰å¦‚ä¸‹:
```java
public interface BeanPostProcessor {
  //åœ¨æ¯ä¸€ä¸ªbeanå¯¹è±¡çš„åˆå§‹åŒ–æ–¹æ³•è°ƒç”¨ä¹‹å‰å›è°ƒ
  @Nullable
  default Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException {
      return bean;
  }

  //åœ¨æ¯ä¸ªbeanå¯¹è±¡çš„åˆå§‹åŒ–æ–¹æ³•è°ƒç”¨ä¹‹åè¢«å›è°ƒ
  @Nullable
  default Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {
      return bean;
  }
}
```

ä½¿ç”¨ç¤ºä¾‹ï¼š
```java
public class CustomBeanPostProcessor implements BeanPostProcessor {
  @Override
  public Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException {
      if (bean instanceof MyBean) {
        System.out.println("postProcessBeforeInitialization:beanName="+beanName);
      }
      return bean;
  }

  @Override
  public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {
      if (bean instanceof MyBean) {
        System.out.println("postProcessAfterInitialization:beanName="+beanName);
      }
      return bean;
  }
}
```

```java
public class MyBean{
}
```

```xml
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
        https://www.springframework.org/schema/beans/spring-beans.xsd">

    <!-- services -->
    <bean id="myBean" class="com.gyd.springdemo.ioc.MyBean" >
    </bean>
    <bean id="customBeanPostProcessor" class="com.gyd.springdemo.ioc.CustomBeanPostProcessor" >
    </bean>

</beans>

```

ä¸Šé¢ä»£ç åˆ›å»ºäº†ä¸€ä¸ªä¸šåŠ¡beanå’Œä¸€ä¸ªBeanPostProcessæ¥å£å®ç°ã€‚

ç¨‹åºæ‰§è¡Œæ—¥å¿—è¾“å‡ºå¦‚ä¸‹ï¼š 

![æ§åˆ¶å°æ—¥å¿—](http://cdn.gydblog.com/images/spring/spring-extension-point-9.png)


BeanPostProcessorçš„å…¸å‹åº”ç”¨åœºæ™¯å°±æ˜¯AOPäº†ï¼Œ æˆ‘ä»¬åªéœ€è¦å†™ä¸€ä¸ªBeanPostProcessorçš„å®ç°ç±»ï¼Œåœ¨postProcessBeforeInitializationæˆ–è€…postProcessAfterInitializationæ–¹æ³•ä¸­ï¼Œå¯¹ç‰¹å®šå¯¹è±¡è¿›è¡Œåˆ¤æ–­ï¼Œåˆ¤æ–­æ˜¯å¦éœ€è¦ç»‡å…¥åˆ‡é¢é€»è¾‘ï¼Œå¦‚æœéœ€è¦ï¼Œé‚£å°±æ ¹æ®å½“å‰å¯¹è±¡ç”Ÿæˆä¸€ä¸ªä»£ç†å¯¹è±¡ï¼Œç„¶åè¿”å›è¿™ä¸ªä»£ç†å¯¹è±¡æ”¾å…¥å®¹å™¨ä¸­ã€‚
 
### 2ã€BeanFactoryPostProcessor
è¿™ä¸ªæ‰©å±•ç‚¹çš„æ‰§è¡Œå‘ç”Ÿåœ¨beanå®ä¾‹åŒ–ä¹‹å‰ï¼ŒBeanDefinitionè¯»å–å®Œä¹‹åã€‚æ‰€ä»¥æˆ‘ä»¬åœ¨è¿™é‡Œå¯ä»¥è·å–åˆ°BeanDefinitionï¼Œä»¥æ”¹å˜ä»–é»˜è®¤çš„å®ä¾‹åŒ–æ–¹å¼ã€‚è¯¥æ‰©å±•ç‚¹æä¾›çš„æ¥å£å®šä¹‰å¦‚ä¸‹ï¼š
```java
@FunctionalInterface
public interface BeanFactoryPostProcessor {
    void postProcessBeanFactory(ConfigurableListableBeanFactory var1) throws BeansException;
}
```

BeanDefinitionRegistryPostProcessorè¿™ä¸ªæ¥å£æ˜¯ BeanFactoryPostProcessorçš„å­æ¥å£ï¼Œä¸€èˆ¬è¯´æ¥è¿™ä¸ªæ¥å£æ›´æ›´å¸¸ç”¨ã€‚


BeanFactoryPostProcessoråŠå…¶å­ç±»çš„ä½¿ç”¨åœºæ™¯æœ‰å¾ˆå¤šï¼Œä¾‹å¦‚ä¿®æ”¹beanå±æ€§å€¼ï¼Œå®ç°beanåŠ¨æ€ä»£ç†ç­‰ã€‚
å¾ˆå¤šæ¡†æ¶éƒ½æ˜¯é€šè¿‡æ­¤æ¥å£å®ç°å¯¹springå®¹å™¨çš„æ‰©å±•ï¼Œä¾‹å¦‚mybatisä¸springé›†æˆæ—¶ï¼Œåªå®šä¹‰äº†mapperæ¥å£ï¼Œæ— å®ç°ç±»ï¼Œä½†springå´å¯ä»¥å®Œæˆè‡ªåŠ¨æ³¨å…¥ã€‚
å†æ¯”å¦‚åœ¨RPCæ¡†æ¶dubboä¸­çš„ ReferenceAnnotationBeanPostProcessor å°±æ˜¯å®ç°ä¸Šé¢æ¥å£ï¼Œæ‰«æSpringå®¹å™¨ä¸­æ‰€æœ‰çš„Beanï¼ŒæŸ¥æ‰¾å¸¦æœ‰@Referenceæ³¨è§£çš„æœåŠ¡å¼•ç”¨ï¼Œå¹¶ä¸ºå…¶åˆ›å»ºä»£ç†å¯¹è±¡ã€‚è¿™ä¸ªä»£ç†å¯¹è±¡ä¼šæ‹¦æˆªæœåŠ¡æ¶ˆè´¹è€…å¯¹æœåŠ¡æä¾›è€…çš„è°ƒç”¨ï¼Œå¹¶é€šè¿‡Dubboæ¡†æ¶å®ç°è¿œç¨‹è°ƒç”¨ã€‚è¿™æ ·ï¼ŒæœåŠ¡æ¶ˆè´¹è€…å°±å¯ä»¥åƒè°ƒç”¨æœ¬åœ°æœåŠ¡ä¸€æ ·è°ƒç”¨è¿œç¨‹æœåŠ¡ï¼Œè€Œä¸éœ€è¦å…³å¿ƒè¿œç¨‹è°ƒç”¨çš„ç»†èŠ‚ã€‚


### 3ã€FactoryBean 
é¢è¯•ä¸­ä¼šé‡åˆ°è¿™æ ·çš„é—®é¢˜ï¼šè¯·è¯´è¯´FactoryBeanå’ŒBeanFactoryçš„åŒºåˆ«ï¼Ÿ

é‡åˆ°æ­¤ç±»ä½ æ˜¯å¦ä¼šæ‡µåœˆï¼Ÿ

å…¶å®åŒºåˆ†æ¯”è¾ƒç®€å•ï¼Œç¨å¾®äº†è§£ä¸‹å°±çŸ¥é“åŒºåˆ«äº†ï¼Œè¿™ä¸ªé—®é¢˜èƒ½è¿‡æ»¤ä¸€éƒ¨åˆ†ç¨‹åºå‘˜æ¸£æ¸£ã€‚

BeanFactoryæ˜¯ç”¨äºè®¿é—®Spring beanå®¹å™¨çš„æ ¹æ¥å£ï¼Œä¹Ÿå°±æ˜¯IoCå®¹å™¨ï¼Œæˆ‘ä»¬åœ¨é¡¹ç›®ä¸­æ›´å¸¸ç”¨çš„ApplicationContextå°±æ˜¯ä¸€ä¸ªBeanFactoryã€‚æˆ‘ä»¬é€šè¿‡beançš„åç§°æˆ–è€…ç±»å‹éƒ½å¯ä»¥ä»BeanFactoryæ¥è·å–beanã€‚å¯¹äºBeanFactoryè¿™ä¹ˆä»‹ç»ç›¸ä¿¡éƒ½ä¸é™Œç”Ÿäº†ã€‚è®©æˆ‘ä»¬æŠŠå…³æ³¨ç‚¹è½¬å‘FactoryBeanä¸Šã€‚

FactoryBean æ˜¯ä¸ªä»€ä¹ˆç©æ„å„¿å‘¢ï¼Ÿæ¥çœ‹çœ‹æºç ï¼š
```java
public interface FactoryBean<T> {
  String OBJECT_TYPE_ATTRIBUTE = "factoryBeanObjectType";

  //è·å–æ³›å‹Tçš„å®ä¾‹ã€‚ç”¨æ¥åˆ›å»ºBeanã€‚
  @Nullable
  T getObject() throws Exception;

  //è·å– T getObject()ä¸­çš„è¿”å›å€¼ T çš„å…·ä½“ç±»å‹ï¼Œå¼ºçƒˆå»ºè®®å¦‚æœTæ˜¯ä¸€ä¸ªæ¥å£ï¼Œè¿”å›å…¶å…·ä½“å®ç°ç±»çš„ç±»å‹
  @Nullable
  Class<?> getObjectType();

  //ç”¨æ¥è§„å®š Factoryåˆ›å»ºçš„çš„beanæ˜¯å¦æ˜¯å•ä¾‹ã€‚è¿™é‡Œé€šè¿‡é»˜è®¤æ–¹æ³•å®šä¹‰ä¸ºå•ä¾‹ã€‚
  default boolean isSingleton() {
      return true;
  }
}

```

FactoryBeanæ˜¯ä¸€ä¸ªbeanï¼Œå¯ä»¥ä½œä¸ºå…¶ä»–beançš„å·¥å‚ã€‚FactoryBeanåƒå…¶ä»–beanä¸€æ ·åœ¨æ³¨å…¥åˆ°IoCå®¹å™¨ä¸­ï¼Œä½†æ˜¯å½“ä»IoCå®¹å™¨ä¸­è·å–FactoryBeançš„æ—¶å€™ï¼Œå®é™…è¿”å›çš„FactoryBean#getObject()æ–¹æ³•è¿”å›çš„å¯¹è±¡ã€‚å¦‚æœæƒ³è·å–FactoryBeanæœ¬èº«ï¼Œåˆ™éœ€è¦åœ¨beançš„åç§°æ·»åŠ å‰ç¼€&æ¥è·å–FactoryBeanå¯¹è±¡æœ¬èº«ï¼ˆapplicationContext.getBean("&" + beanName)ï¼‰ã€‚

è‘—åçš„Mybatisæ¡†æ¶å°±æ˜¯æ˜¯é€šè¿‡FactoryBeanå¯¹è±¡åˆ›å»ºMapperå¯¹è±¡çš„ä»£ç†å¯¹è±¡ï¼Œå®ŒæˆMapperæ¥å£çš„æ³¨å…¥ã€‚æœ‰å…´è¶£çš„ä¼™ä¼´å¯ä»¥å»äº†è§£ä¸‹å…·ä½“ç»†èŠ‚ã€‚

### 4ã€ApplicationListener
  Springçš„äº‹ä»¶æœºåˆ¶æ˜¯è§‚å¯Ÿè€…è®¾è®¡æ¨¡å¼çš„å®ç°ï¼Œé€šè¿‡ApplicationEventç±»å’ŒApplicationListeneræ¥å£ï¼Œå¯ä»¥å®ç°ApplicationContextäº‹ä»¶å¤„ç†ã€‚

  ApplicationListeneræ˜¯Springäº‹ä»¶æœºåˆ¶çš„ä¸€éƒ¨åˆ†ï¼Œä¸æŠ½è±¡ç±»ApplicationEventç±»é…åˆæ¥å®ŒæˆApplicationContextçš„äº‹ä»¶æœºåˆ¶ã€‚ 

  å¦‚æœå®¹å™¨ä¸­æœ‰ä¸€ä¸ªApplicationListenerçš„å®ç° Beanï¼Œæ¯å½“ApplicationContextå‘å¸ƒApplicationEventæ—¶ï¼ŒApplicationListener Beanå°†è‡ªåŠ¨è¢«è§¦å‘ã€‚
  
  è¿™ç§äº‹ä»¶æœºåˆ¶éƒ½å¿…é¡»éœ€è¦ç¨‹åºæ˜¾ç¤ºçš„è§¦å‘ï¼Œå½“ApplicationContextè°ƒç”¨publishEventæ–¹æ³•æ—¶ï¼Œå¯¹åº”çš„ApplicationListenerå®ç°Beanä¼šè¢«è§¦å‘ã€‚

ApplicationListenerçš„æºç å¦‚ä¸‹ï¼š 
```java
@FunctionalInterface
public interface ApplicationListener<E extends ApplicationEvent> extends EventListener {
    void onApplicationEvent(E event);

    static <T> ApplicationListener<PayloadApplicationEvent<T>> forPayload(Consumer<T> consumer) {
        return (event) -> {
            consumer.accept(event.getPayload());
        };
    }
}
```

ä½¿ç”¨ç¤ºä¾‹ï¼š
- é¦–å…ˆå†™ä¸€ä¸ªApplicationListenerçš„å®ç°ç±»
```java
public class MyApplicationListener implements ApplicationListener<ApplicationEvent> {

    // å½“å®¹å™¨ä¸­å‘å¸ƒæ­¤äº‹ä»¶ä»¥åï¼Œä¸‹é¢è¿™ä¸ªæ–¹æ³•å°±ä¼šè¢«è§¦å‘
    @Override
    public void onApplicationEvent(ApplicationEvent event) {
        System.out.println("æ”¶åˆ°äº‹ä»¶ï¼š" + event);
    }
} 
```

- xmlæ–¹å¼æ³¨å†Œbeanåˆ°å®¹å™¨(æ³¨è§£æ–¹å¼ä¹Ÿå¯ä»¥)
```java
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
        https://www.springframework.org/schema/beans/spring-beans.xsd">

    <bean id="listener" class="com.gyd.springdemo.ioc.MyApplicationListener" >
    </bean>
</beans>
```

- æµ‹è¯•å¯åŠ¨ç±»
```java
public class Main {
  public static void main(String[] args) {
      ConfigurableApplicationContext context = new ClassPathXmlApplicationContext("beans.xml");
      // å…³é—­å®¹å™¨ è§¦å‘ç›‘å¬äº‹ä»¶å›è°ƒ
      context.close();
  }
}
```

ç¨‹åºæ‰§è¡Œè¾“å‡ºæ—¥å¿—å¦‚ä¸‹ï¼š 

![æ§åˆ¶å°æ—¥å¿—](http://cdn.gydblog.com/images/spring/spring-extension-point-10.png)

å¯ä»¥çœ‹åˆ°æˆ‘ä»¬æ”¶åˆ°äº†ä¸¤ä¸ªäº‹ä»¶ï¼Œè¿™ä¸¤ä¸ªäº‹ä»¶åˆ†åˆ«æ˜¯org.springframework.context.event.ContextRefreshedEventå’Œorg.springframework.context.event.ContextClosedEventï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªæ˜¯å®¹å™¨å·²ç»åˆ·æ–°å®Œæˆäº‹ä»¶ï¼Œç¬¬äºŒä¸ªæ˜¯å®¹å™¨å…³é—­äº‹ä»¶ã€‚

### 5ã€ApplicationContextInitializer

ApplicationContextInitializeræ˜¯Springæ¡†æ¶åŸæœ‰çš„æ¦‚å¿µ, è¿™ä¸ªç±»çš„ä¸»è¦ç›®çš„å°±æ˜¯åœ¨ConfigurableApplicationContextç±»å‹ï¼ˆæˆ–è€…å­ç±»å‹ï¼‰çš„ApplicationContextåšrefreshä¹‹å‰ï¼Œå…è®¸æˆ‘ä»¬å¯¹ConfigurableApplicationContextçš„å®ä¾‹åšè¿›ä¸€æ­¥çš„è®¾ç½®æˆ–è€…å¤„ç†ã€‚  
```java
@FunctionalInterface
public interface ApplicationContextInitializer<C extends ConfigurableApplicationContext> {
    void initialize(C applicationContext);
}
```


è¯¥æ¥å£å…¸å‹çš„åº”ç”¨åœºæ™¯æ˜¯webåº”ç”¨ä¸­éœ€è¦ç¼–ç¨‹æ–¹å¼å¯¹åº”ç”¨ä¸Šä¸‹æ–‡åšåˆå§‹åŒ–ã€‚æ¯”å¦‚ï¼Œæ³¨å†Œå±æ€§æº(property sources)æˆ–è€…é’ˆå¯¹ä¸Šä¸‹æ–‡çš„ç¯å¢ƒä¿¡æ¯environmentæ¿€æ´»ç›¸åº”çš„profileã€‚

åœ¨ä¸€ä¸ªSpringbootåº”ç”¨ä¸­ï¼Œclasspathä¸Šä¼šåŒ…å«å¾ˆå¤šjaråŒ…ï¼Œæœ‰äº›jaråŒ…éœ€è¦åœ¨ConfigurableApplicationContext#refresh()è°ƒç”¨ä¹‹å‰å¯¹åº”ç”¨ä¸Šä¸‹æ–‡åšä¸€äº›åˆå§‹åŒ–åŠ¨ä½œï¼Œå› æ­¤å®ƒä»¬ä¼šæä¾›è‡ªå·±çš„ApplicationContextInitializerå®ç°ç±»ï¼Œç„¶åæ”¾åœ¨è‡ªå·±çš„META-INF/spring.factorieså±æ€§æ–‡ä»¶ä¸­ï¼Œè¿™æ ·ç›¸åº”çš„ApplicationContextInitializerå®ç°ç±»å°±ä¼šè¢«SpringApplication#initializeå‘ç°ï¼š

ç¤ºä¾‹ï¼š
```java
// SpringApplication#initializeæ–¹æ³•ï¼Œåœ¨å…¶æ„é€ å‡½æ•°å†…æ‰§è¡Œï¼Œä»è€Œç¡®ä¿åœ¨å…¶runæ–¹æ³•ä¹‹å‰å®Œæˆ
     private void initialize(Object[] sources) {
        if (sources != null && sources.length > 0) {
            this.sources.addAll(Arrays.asList(sources));
        }
        this.webEnvironment = deduceWebEnvironment();
        setInitializers((Collection) getSpringFactoriesInstances(
                ApplicationContextInitializer.class)); 
        setListeners((Collection) getSpringFactoriesInstances(ApplicationListener.class));
        this.mainApplicationClass = deduceMainApplicationClass();
    }
```


### 6ã€SmartInitializingSingleton
å®ç°SmartInitializingSingletonçš„æ¥å£åï¼Œå½“æ‰€æœ‰å•ä¾‹ bean éƒ½åˆå§‹åŒ–å®Œæˆä»¥åï¼ŒSpringçš„IOCå®¹å™¨ä¼šå›è°ƒè¯¥æ¥å£çš„ afterSingletonsInstantiated()æ–¹æ³•ã€‚
```java
public interface SmartInitializingSingleton {
  void afterSingletonsInstantiated();
}
```

ä¸»è¦åº”ç”¨åœºåˆå°±æ˜¯åœ¨æ‰€æœ‰å•ä¾‹ bean åˆ›å»ºå®Œæˆä¹‹åï¼Œå¯ä»¥åœ¨è¯¥å›è°ƒä¸­åšä¸€äº›äº‹æƒ…ï¼Œä¾‹å¦‚ï¼š
```java
import org.springframework.beans.factory.ListableBeanFactory;
import org.springframework.beans.factory.SmartInitializingSingleton;
import org.springframework.stereotype.Component;
 
@Component
public class MyTest implements SmartInitializingSingleton {
 
    private ListableBeanFactory beanFactory;
 
    public MyTest(ListableBeanFactory beanFactory) {
        this.beanFactory = beanFactory;
    }
 
    @Override
    public void afterSingletonsInstantiated() {
        String[] beanNames = beanFactory.getBeanNamesForType(IMyBean.class);
        for (String s : beanNames) {
            System.out.println(s);
        }
    }
 
}
```

:::tip å•°å—¦ä¸€å¥
å°éƒ­ä»Šå¤©çš„å­¦ä¹ æˆæœè·Ÿå¤§å®¶åˆ†äº«å®Œæ¯•ï¼Œå¤§å®¶æœ‰è§‰å¾—ä¸å¥½çš„åœ°æ–¹æ¬¢è¿åœ¨ä¸‹æ–¹è¯„è®ºåŒºå¼€å–·ğŸ‘‡ğŸ‘‡ğŸ‘‡ 
ä¹Ÿå¯ä»¥ç»™æˆ‘ç‚¹ç‚¹å…³æ³¨é¼“åŠ±ä¸€ä¸‹å‘€ğŸ‘ğŸ‘ğŸ‘
:::